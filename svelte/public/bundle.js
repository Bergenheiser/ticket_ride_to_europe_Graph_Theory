var app=function(){"use strict";function e(){}function n(e){return e()}function l(){return Object.create(null)}function r(e){e.forEach(n)}function t(e){return"function"==typeof e}function s(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}let o,i;function u(e,n){return o||(o=document.createElement("a")),o.href=n,e===o.href}function d(n,l,r){n.$$.on_destroy.push(function(n,...l){if(null==n)return e;const r=n.subscribe(...l);return r.unsubscribe?()=>r.unsubscribe():r}(l,r))}function y(e,n){e.appendChild(n)}function x(e,n,l){e.insertBefore(n,l||null)}function a(e){e.parentNode.removeChild(e)}function c(e,n){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(n)}function g(e){return document.createElement(e)}function f(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function m(e){return document.createTextNode(e)}function v(){return m(" ")}function p(){return m("")}function h(e,n,l,r){return e.addEventListener(n,l,r),()=>e.removeEventListener(n,l,r)}function T(e,n,l){null==l?e.removeAttribute(n):e.getAttribute(n)!==l&&e.setAttribute(n,l)}function w(e,n,l){e.setAttributeNS("http://www.w3.org/1999/xlink",n,l)}function b(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function R(e,n,l,r){null===l?e.style.removeProperty(n):e.style.setProperty(n,l,r?"important":"")}function S(e){i=e}function $(){if(!i)throw new Error("Function called outside component initialization");return i}const E=[],k=[],B=[],G=[],I=Promise.resolve();let A=!1;function P(e){B.push(e)}const N=new Set;let L=0;function W(){const e=i;do{for(;L<E.length;){const e=E[L];L++,S(e),C(e.$$)}for(S(null),E.length=0,L=0;k.length;)k.pop()();for(let e=0;e<B.length;e+=1){const n=B[e];N.has(n)||(N.add(n),n())}B.length=0}while(E.length);for(;G.length;)G.pop()();A=!1,N.clear(),S(e)}function C(e){if(null!==e.fragment){e.update(),r(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(P)}}const O=new Set;let M;function z(){M={r:0,c:[],p:M}}function U(){M.r||r(M.c),M=M.p}function _(e,n){e&&e.i&&(O.delete(e),e.i(n))}function K(e,n,l,r){if(e&&e.o){if(O.has(e))return;O.add(e),M.c.push((()=>{O.delete(e),r&&(l&&e.d(1),r())})),e.o(n)}}function q(e){e&&e.c()}function D(e,l,s,o){const{fragment:i,on_mount:u,on_destroy:d,after_update:y}=e.$$;i&&i.m(l,s),o||P((()=>{const l=u.map(n).filter(t);d?d.push(...l):r(l),e.$$.on_mount=[]})),y.forEach(P)}function j(e,n){const l=e.$$;null!==l.fragment&&(r(l.on_destroy),l.fragment&&l.fragment.d(n),l.on_destroy=l.fragment=null,l.ctx=[])}function V(e,n){-1===e.$$.dirty[0]&&(E.push(e),A||(A=!0,I.then(W)),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function J(n,t,s,o,u,d,y,x=[-1]){const c=i;S(n);const g=n.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:l(),dirty:x,skip_bound:!1,root:t.target||c.$$.root};y&&y(g.root);let f=!1;if(g.ctx=s?s(n,t.props||{},((e,l,...r)=>{const t=r.length?r[0]:l;return g.ctx&&u(g.ctx[e],g.ctx[e]=t)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](t),f&&V(n,e)),l})):[],g.update(),f=!0,r(g.before_update),g.fragment=!!o&&o(g.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);g.fragment&&g.fragment.l(e),e.forEach(a)}else g.fragment&&g.fragment.c();t.intro&&_(n.$$.fragment),D(n,t.target,t.anchor,t.customElement),W()}S(c)}class Z{$destroy(){j(this,1),this.$destroy=e}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const e=l.indexOf(n);-1!==e&&l.splice(e,1)}}$set(e){var n;this.$$set&&(n=e,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const F={Cadiz:{x:144,y:1072,nom:"Cadiz"},Madrid:{x:147,y:946,nom:"Madrid"},Barcelona:{x:336,y:961,nom:"Barcelona"},Lisboa:{x:32,y:981,nom:"Lisboa"},Pamplona:{x:318,y:805,nom:"Pamplona"},Paris:{x:425,y:544,nom:"Paris"},Dieppe:{x:341,y:467,nom:"Dieppe"},Brest:{x:188,y:516,nom:"Brest"},London:{x:358,y:313,nom:"London"},Amsterdam:{x:524,y:319,nom:"Amsterdam"},Bruxelles:{x:485,y:399,nom:"Bruxelles"},Edinburgh:{x:245,y:56,nom:"Edinburgh"},Zurich:{x:622,y:638,nom:"Zurich"},Marseille:{x:575,y:797,nom:"Marseille"},Frankfurt:{x:638,y:454,nom:"Frankfurt"},Munchen:{x:737,y:530,nom:"Munchen"},Wien:{x:930,y:559,nom:"Wien"},Venezia:{x:763,y:694,nom:"Venezia"},Roma:{x:779,y:849,nom:"Roma"},Brindisi:{x:925,y:892,nom:"Brindisi"},Palermo:{x:841,y:1072,nom:"Palermo"},Athina:{x:1136,y:1024,nom:"Athina"},Sofia:{x:1167,y:830,nom:"Sofia"},Sarajevo:{x:1053,y:815,nom:"Sarajevo"},Zagrab:{x:908,y:714,nom:"Zagrab"},Budapest:{x:1014,y:602,nom:"Budapest"},Kyiv:{x:1370,y:438,nom:"Kyiv"},Warszawa:{x:1113,y:345,nom:"Warszawa"},Wilno:{x:1302,y:303,nom:"Wilno"},Smolensk:{x:1479,y:310,nom:"Smolensk"},Moskva:{x:1625,y:269,nom:"Moskva"},Kharkov:{x:1600,y:528,nom:"Kharkov"},Rostov:{x:1671,y:618,nom:"Rostov"},Sochi:{x:1660,y:770,nom:"Sochi"},Erzurum:{x:1628,y:986,nom:"Erzurum"},Constantinople:{x:1358,y:932,nom:"Constantinople"},Angora:{x:1492,y:1026,nom:"Angora"},Smyrna:{x:1282,y:1068,nom:"Smyrna"},Essen:{x:663,y:335,nom:"Essen"},Berlin:{x:834,y:359,nom:"Berlin"},Kobenhavn:{x:784,y:155,nom:"Kobenhavn"},Stockholm:{x:963,y:22,nom:"Stockholm"},Riga:{x:1169,y:71,nom:"Riga"},Petrograd:{x:1458,y:64,nom:"Petrograd"},Danzig:{x:1028,y:226,nom:"Danzig"},Bucuresti:{x:1271,y:721,nom:"Bucuresti"},Sevastopol:{x:1508,y:746,nom:"Sevastopol"}},H=[{ville1:"Amsterdam",ville2:"Bruxelles",longueur:1,couleur:"NOIR",isTunnel:!1,ferry:0,segments:[{x:504.5,y:361.5,dx:-.42661867571297646,dy:.9044315925115101}]},{ville1:"Amsterdam",ville2:"Essen",longueur:3,couleur:"JAUNE",isTunnel:!1,ferry:0,segments:[{x:528.5,y:276,dx:.21871145691738075,dy:-.9757895770160064},{x:574,y:265,dx:.9778024140774094,dy:.20952908873087345},{x:629,y:300,dx:.6368814469962913,dy:.7709617516270895}]},{ville1:"Amsterdam",ville2:"Frankfurt",longueur:2,couleur:"BLANC",isTunnel:!1,ferry:0,segments:[{x:562,y:358.5,dx:.6983238520753277,dy:.7157819483772108},{x:606,y:403,dx:.7249994335944138,dy:.688749461914693}]},{ville1:"Amsterdam",ville2:"London",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:2,segments:[{x:405,y:312,dx:1,dy:0},{x:469,y:314.5,dx:.9998514005489976,dy:.017238817250844786}]},{ville1:"Angora",ville2:"Constantinople",longueur:2,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:1399,y:959,dx:.8209052017854871,dy:.5710644881985998},{x:1452,y:998,dx:.8041761414663255,dy:.5943910610838058}]},{ville1:"Angora",ville2:"Erzurum",longueur:3,couleur:"NOIR",isTunnel:!1,ferry:0,segments:[{x:1533.5,y:1046,dx:.8765785507795943,dy:.48125881219271843},{x:1597,y:1059.5,dx:.9812488205210874,dy:-.19274530403092788},{x:1635.5,y:1031.5,dx:-.16148856811054085,dy:-.9868745828977495}]},{ville1:"Angora",ville2:"Smyrna",longueur:3,couleur:"ORANGE",isTunnel:!0,ferry:0,segments:[{x:1329.5,y:1072.5,dx:.9998347517133227,dy:.01817881366751496},{x:1392.5,y:1072,dx:.9895864392845114,dy:-.14393984571411075},{x:1455.5,y:1054,dx:.8765785507795943,dy:-.48125881219271843}]},{ville1:"Athina",ville2:"Brindisi",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:957,y:928,dx:.389639990836698,dy:.9209672510685588},{x:982,y:986.5,dx:.38337767164151665,dy:.9235916635000174},{x:1027.5,y:1030.5,dx:.9554026409829016,dy:.2953062708492605},{x:1093.5,y:1036,dx:.9838699100999074,dy:-.17888543819998318}]},{ville1:"Athina",ville2:"Sarajevo",longueur:4,couleur:"VERT",isTunnel:!1,ferry:0,segments:[{x:1052.5,y:859,dx:-.053494721371611896,dy:.9985681322700888},{x:1049,y:922.5,dx:-.035066140133044446,dy:.9993849937917667},{x:1045.5,y:986.5,dx:-.08444307668618062,dy:.9964283048969312},{x:1087.5,y:1007,dx:.9994259471398348,dy:.033878845665757114}]},{ville1:"Athina",ville2:"Smyrna",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:1180.5,y:1022,dx:.9994259471398348,dy:-.033878845665757114},{x:1244.5,y:1036.5,dx:.9044315925115101,dy:.42661867571297646}]},{ville1:"Athina",ville2:"Sofia",longueur:3,couleur:"ROSE",isTunnel:!1,ferry:0,segments:[{x:1136,y:861,dx:-.6709133239691262,dy:.7415357791237711},{x:1109.5,y:921,dx:-.11982016019085814,dy:.9927956130099675},{x:1123,y:983,dx:.52999894000318,dy:.847998304005088}]},{ville1:"Barcelona",ville2:"Madrid",longueur:2,couleur:"JAUNE",isTunnel:!1,ferry:0,segments:[{x:221.5,y:954.5,dx:.9998563940539735,dy:.016946718543287685},{x:285.5,y:956.5,dx:.9986178293325098,dy:.052558833122763673}]},{ville1:"Barcelona",ville2:"Marseille",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:370.5,y:926,dx:.6610305430689966,dy:-.7503589948350772},{x:415.5,y:881.5,dx:.7407190347407712,dy:-.6718149384858157},{x:467.5,y:843.5,dx:.8692901189279536,dy:-.4943022244884442},{x:525,y:818,dx:.9377487607237036,dy:-.34731435582359393}]},{ville1:"Barcelona",ville2:"Pamplona",longueur:2,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:322.5,y:852.5,dx:.09053574604251853,dy:.9958932064677039},{x:329.5,y:917.5,dx:.11781773987828967,dy:.9930352361170129}]},{ville1:"Berlin",ville2:"Danzig",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:842.5,y:306.5,dx:.1559625734730109,dy:-.987762965329069},{x:867.5,y:246.5,dx:.5746304214759497,dy:-.8184130245263527},{x:922.5,y:210,dx:.978549784986749,dy:-.2060104810498419},{x:987,y:210,dx:.9778024140774094,dy:.20952908873087345}]},{ville1:"Berlin",ville2:"Essen",longueur:2,couleur:"BLEU",isTunnel:!1,ferry:0,segments:[{x:726.5,y:331.5,dx:.9925434552766405,dy:.12189130152520146},{x:789.5,y:339,dx:.9945054529214061,dy:.10468478451804275}]},{ville1:"Berlin",ville2:"Frankfurt",longueur:3,couleur:"ROUGE",isTunnel:!1,ferry:0,segments:[{x:686.5,y:452.5,dx:.9173450110960782,dy:-.3980931180228264},{x:743,y:424.5,dx:.9012524245251862,dy:-.43329443486787794},{x:800,y:397.5,dx:.9012524245251862,dy:-.43329443486787794}]},{ville1:"Berlin",ville2:"Frankfurt",longueur:3,couleur:"NOIR",isTunnel:!1,ferry:0,segments:[{x:676,y:432.5,dx:.9012524245251862,dy:-.43329443486787794},{x:734,y:405.5,dx:.9084904526785746,dy:-.41790560823214434},{x:790.5,y:378,dx:.8909061469019802,dy:-.4541874474402252}]},{ville1:"Berlin",ville2:"Warszawa",longueur:4,couleur:"JAUNE",isTunnel:!1,ferry:0,segments:[{x:877,y:365.5,dx:.9469787003150827,dy:-.3212963447497602},{x:940,y:350.5,dx:.988173903359179,dy:-.15333732983159673},{x:1003,y:347,dx:.9993628543475496,dy:-.03569153051241249},{x:1065.5,y:350.5,dx:.987762965329069,dy:.1559625734730109}]},{ville1:"Berlin",ville2:"Warszawa",longueur:4,couleur:"ROSE",isTunnel:!1,ferry:0,segments:[{x:875.5,y:341.5,dx:.9486832980505138,dy:-.31622776601683794},{x:939.5,y:326.5,dx:.9925434552766405,dy:-.12189130152520146},{x:1002,y:322,dx:.9994059993535875,dy:-.03446227583977888},{x:1067,y:327,dx:.9906211292434748,dy:.13663739713703102}]},{ville1:"Berlin",ville2:"Wien",longueur:3,couleur:"VERT",isTunnel:!1,ferry:0,segments:[{x:847,y:408.5,dx:.2890045919356118,dy:.9573277107867141},{x:870.5,y:467,dx:.47514891473488396,dy:.8799053976571926},{x:906,y:520.5,dx:.6246950475544243,dy:.7808688094430304}]},{ville1:"Brest",ville2:"Dieppe",longueur:2,couleur:"ORANGE",isTunnel:!1,ferry:0,segments:[{x:225,y:482.5,dx:.8650311892618034,dy:-.501718089771846},{x:287.5,y:464,dx:.9977097021176764,dy:-.06764133573679162}]},{ville1:"Brest",ville2:"Pamplona",longueur:4,couleur:"ROSE",isTunnel:!1,ferry:0,segments:[{x:229.5,y:549.5,dx:.9342183861793726,dy:.3567015656321241},{x:280,y:591,dx:.5547001962252291,dy:.8320502943378437},{x:302,y:652,dx:.1414213562373095,dy:.9899494936611665},{x:306,y:716,dx:0,dy:1}]},{ville1:"Brest",ville2:"Paris",longueur:3,couleur:"NOIR",isTunnel:!1,ferry:0,segments:[{x:235,y:521,dx:.9946917938265513,dy:.1028991510855053},{x:298.5,y:529,dx:.9945054529214061,dy:.10468478451804275},{x:360.5,y:536.5,dx:.9964283048969312,dy:.08444307668618062}]},{ville1:"Brindisi",ville2:"Palermo",longueur:3,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:880.5,y:1047.5,dx:.6139406135149205,dy:-.7893522173763263},{x:923,y:998.5,dx:.7327934916262993,dy:-.6804510993672779},{x:936.5,y:937,dx:-.40450601477770304,dy:-.9145353377582851}]},{ville1:"Brindisi",ville2:"Roma",longueur:2,couleur:"BLANC",isTunnel:!1,ferry:0,segments:[{x:832.5,y:833,dx:.9902939771518443,dy:-.13898862837218867},{x:892.5,y:856,dx:.6610305430689966,dy:.7503589948350772}]},{ville1:"Bruxelles",ville2:"Dieppe",longueur:2,couleur:"VERT",isTunnel:!1,ferry:0,segments:[{x:387,y:447.5,dx:.8346094065617252,dy:-.5508422083307386},{x:440,y:411,dx:.8041761414663255,dy:-.5943910610838058}]},{ville1:"Bruxelles",ville2:"Frankfurt",longueur:2,couleur:"BLEU",isTunnel:!1,ferry:0,segments:[{x:528.5,y:403,dx:.9690971739229421,dy:-.24667928063493072},{x:590.5,y:420,dx:.7321867381630838,dy:.6811039424772872}]},{ville1:"Bruxelles",ville2:"Paris",longueur:2,couleur:"JAUNE",isTunnel:!1,ferry:0,segments:[{x:432.5,y:495,dx:.47312663795681303,dy:-.8809944292988933},{x:462.5,y:439,dx:.43329443486787794,dy:-.9012524245251862}]},{ville1:"Bruxelles",ville2:"Paris",longueur:2,couleur:"ROUGE",isTunnel:!1,ferry:0,segments:[{x:452.5,y:505.5,dx:.4678877204190327,dy:-.8837879163470618},{x:482.5,y:449.5,dx:.4678877204190327,dy:-.8837879163470618}]},{ville1:"Bucuresti",ville2:"Budapest",longueur:4,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:1058,y:613.5,dx:.8944271909999159,dy:.4472135954999579},{x:1114.5,y:644,dx:.8833490206949295,dy:.46871580689935033},{x:1170,y:674,dx:.8872168012345951,dy:.46135273664198945},{x:1227,y:703.5,dx:.8944271909999159,dy:.4472135954999579}]},{ville1:"Bucuresti",ville2:"Constantinople",longueur:3,couleur:"JAUNE",isTunnel:!1,ferry:0,segments:[{x:1289.5,y:766,dx:.40450601477770304,dy:.9145353377582851},{x:1314.5,y:824,dx:.39186206512519167,dy:.9200239789895804},{x:1339,y:882,dx:.4061384660534476,dy:.9138115486202572}]},{ville1:"Bucuresti",ville2:"Kyiv",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1337,y:492,dx:-.284088329691374,dy:.9587981127083872},{x:1317.5,y:552,dx:-.343192952923539,dy:.9392649237907383},{x:1298,y:612.5,dx:-.3215824263578902,dy:.9468815887204546},{x:1278,y:672,dx:-.3271105638831663,dy:.9449860734402582}]},{ville1:"Bucuresti",ville2:"Sevastopol",longueur:4,couleur:"BLANC",isTunnel:!1,ferry:0,segments:[{x:1307.5,y:690.5,dx:.7071067811865476,dy:-.7071067811865476},{x:1365,y:657.5,dx:.965948051503245,dy:-.2587360852240835},{x:1430.5,y:665,dx:.9040722665053037,dy:.4273796168934163},{x:1480.5,y:705,dx:.6055218324832624,dy:.7958286941208591}]},{ville1:"Bucuresti",ville2:"Sofia",longueur:2,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:1209.5,y:809.5,dx:.9582877607731983,dy:-.28580512163411176},{x:1250,y:762.5,dx:.13436367297357807,dy:-.9909320881801382}]},{ville1:"Budapest",ville2:"Kyiv",longueur:6,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:1037.5,y:561,dx:.6633075143158518,dy:-.7483469392281404},{x:1084,y:518,dx:.8209052017854871,dy:-.5710644881985998},{x:1139,y:483.5,dx:.8799053976571926,dy:-.47514891473488396},{x:1197.5,y:459,dx:.9468815887204546,dy:-.3215824263578902},{x:1260,y:446,dx:.9974586998307351,dy:-.07124704998790965},{x:1324,y:446.5,dx:.9998405993454448,dy:.017854296416882943}]},{ville1:"Budapest",ville2:"Sarajevo",longueur:3,couleur:"ROSE",isTunnel:!1,ferry:0,segments:[{x:1026,y:646.5,dx:.14393984571411075,dy:.9895864392845114},{x:1035,y:709,dx:.1757906384836575,dy:.984427575508482},{x:1044.5,y:772,dx:.12403473458920845,dy:.9922778767136676}]},{ville1:"Budapest",ville2:"Wien",longueur:1,couleur:"ROUGE",isTunnel:!1,ferry:0,segments:[{x:973.5,y:578,dx:.8528513040762654,dy:.5221538596385299}]},{ville1:"Budapest",ville2:"Wien",longueur:1,couleur:"BLANC",isTunnel:!1,ferry:0,segments:[{x:962,y:596,dx:.8574929257125442,dy:.5144957554275266}]},{ville1:"Budapest",ville2:"Zagrab",longueur:2,couleur:"ORANGE",isTunnel:!1,ferry:0,segments:[{x:987.5,y:639,dx:-.501718089771846,dy:.8650311892618034},{x:946.5,y:689.5,dx:-.7724254859909581,dy:.6351053995925655}]},{ville1:"Cadiz",ville2:"Lisboa",longueur:2,couleur:"BLEU",isTunnel:!1,ferry:0,segments:[{x:50,y:1025.5,dx:.4125075533080444,dy:.9109541802219313},{x:100,y:1063.5,dx:.9812488205210874,dy:.19274530403092788}]},{ville1:"Cadiz",ville2:"Madrid",longueur:3,couleur:"ORANGE",isTunnel:!1,ferry:0,segments:[{x:189,y:1062,dx:.9377487607237036,dy:-.34731435582359393},{x:222.5,y:1027.5,dx:-.3265202527980472,dy:-.9451902054680315},{x:184.5,y:976,dx:-.7493290854811462,dy:-.6621977964717106}]},{ville1:"Constantinople",ville2:"Sevastopol",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:2,segments:[{x:1490.5,y:791.5,dx:-.017541160386140585,dy:.9998461420100133},{x:1471,y:852.5,dx:-.5795237863600037,dy:.8149553245687551},{x:1428.5,y:874,dx:-.7938781460016401,dy:-.6080768777884903},{x:1386.5,y:896.5,dx:-.6139406135149205,dy:.7893522173763263}]},{ville1:"Constantinople",ville2:"Smyrna",longueur:2,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:1301.5,y:1026.5,dx:.42661867571297646,dy:-.9044315925115101},{x:1330.5,y:968.5,dx:.41110775310681835,dy:-.911586756889032}]},{ville1:"Constantinople",ville2:"Sofia",longueur:3,couleur:"BLEU",isTunnel:!1,ferry:0,segments:[{x:1206,y:853,dx:.8725060159497201,dy:.48860336893184325},{x:1262,y:883,dx:.879291966536774,dy:.4762831485407526},{x:1317,y:913.5,dx:.8650311892618034,dy:.501718089771846}]},{ville1:"Danzig",ville2:"Riga",longueur:3,couleur:"NOIR",isTunnel:!1,ferry:0,segments:[{x:1041.5,y:182.5,dx:.27232246579934893,dy:-.9622060458243663},{x:1071,y:125.5,dx:.6028330891856919,dy:-.7978673239222394},{x:1123.5,y:89,dx:.9503971290446889,dy:-.3110390604146254}]},{ville1:"Danzig",ville2:"Warszawa",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1068,y:247,dx:.847998304005088,dy:.52999894000318},{x:1103.5,y:299,dx:.22612970719934952,dy:.9740972002433518}]},{ville1:"Dieppe",ville2:"London",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:330.5,y:419.5,dx:-.08738374771484403,dy:.9961747239492219},{x:336.5,y:358,dx:-.08588834215301201,dy:.9963047689749394}]},{ville1:"Dieppe",ville2:"London",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:354.5,y:422.5,dx:.08444307668618062,dy:-.9964283048969312},{x:360,y:359.5,dx:.10468478451804275,dy:-.9945054529214061}]},{ville1:"Dieppe",ville2:"Paris",longueur:1,couleur:"ROSE",isTunnel:!1,ferry:0,segments:[{x:379.5,y:500.5,dx:.7071067811865475,dy:.7071067811865475}]},{ville1:"Edinburgh",ville2:"London",longueur:4,couleur:"ORANGE",isTunnel:!1,ferry:0,segments:[{x:276.5,y:96,dx:.42012356811103757,dy:.9074669071198412},{x:301,y:154.5,dx:.38337767164151665,dy:.9235916635000174},{x:325,y:212,dx:.389639990836698,dy:.9209672510685588},{x:349.5,y:269.5,dx:.3980931180228264,dy:.9173450110960782}]},{ville1:"Edinburgh",ville2:"London",longueur:4,couleur:"NOIR",isTunnel:!1,ferry:0,segments:[{x:255.5,y:105.5,dx:.41110775310681835,dy:.911586756889032},{x:280.5,y:163.5,dx:.3980931180228264,dy:.9173450110960782},{x:305,y:220,dx:.40273861426601687,dy:.9153150324227656},{x:329,y:277.5,dx:.3960911114346502,dy:.9182112128712345}]},{ville1:"Erzurum",ville2:"Sevastopol",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:2,segments:[{x:1514,y:792,dx:0,dy:1},{x:1518.5,y:854,dx:.15867809538375516,dy:.9873303712766988},{x:1542,y:914,dx:.5710644881985998,dy:.8209052017854871},{x:1588.5,y:960,dx:.8372705045624257,dy:.546788900938727}]},{ville1:"Erzurum",ville2:"Sochi",longueur:3,couleur:"ROUGE",isTunnel:!0,ferry:0,segments:[{x:1653.5,y:817,dx:-.12403473458920845,dy:.9922778767136676},{x:1644.5,y:880,dx:-.15867809538375516,dy:.9873303712766988},{x:1635.5,y:942.5,dx:-.12625427967391514,dy:.9919979117236188}]},{ville1:"Essen",ville2:"Frankfurt",longueur:2,couleur:"VERT",isTunnel:!1,ferry:0,segments:[{x:666,y:412,dx:.8944271909999159,dy:-.4472135954999579},{x:698,y:374.5,dx:-.4541874474402252,dy:-.8909061469019802}]},{ville1:"Essen",ville2:"Kobenhavn",longueur:3,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:677,y:288,dx:.5390536964233673,dy:-.8422714006615114},{x:713,y:235,dx:.5547001962252291,dy:-.8320502943378437},{x:748,y:182,dx:.5547001962252291,dy:-.8320502943378437}]},{ville1:"Essen",ville2:"Kobenhavn",longueur:3,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:695.5,y:300,dx:.5665288228870652,dy:-.8240419241993676},{x:731,y:246,dx:.5462677805469223,dy:-.8376105968386142},{x:765.5,y:196,dx:.5665288228870652,dy:-.8240419241993676}]},{ville1:"Frankfurt",ville2:"Munchen",longueur:2,couleur:"ROSE",isTunnel:!1,ferry:0,segments:[{x:654,y:500,dx:.31622776601683794,dy:.9486832980505138},{x:684.5,y:534.5,dx:.9582877607731983,dy:-.28580512163411176}]},{ville1:"Frankfurt",ville2:"Paris",longueur:3,couleur:"ORANGE",isTunnel:!1,ferry:0,segments:[{x:494,y:553.5,dx:.9568805766427723,dy:-.29048160362369874},{x:552,y:527,dx:.8422714006615114,dy:-.5390536964233673},{x:605.5,y:491.5,dx:.8137334712067349,dy:-.5812381937190964}]},{ville1:"Frankfurt",ville2:"Paris",longueur:3,couleur:"BLANC",isTunnel:!1,ferry:0,segments:[{x:482.5,y:533,dx:.939793423488437,dy:-.3417430630867044},{x:541,y:506.5,dx:.8400393777687709,dy:-.5425254314756646},{x:594,y:471.5,dx:.8240419241993676,dy:-.5665288228870652}]},{ville1:"Kharkov",ville2:"Kyiv",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1386,y:482,dx:.34731435582359393,dy:.9377487607237036},{x:1428,y:531,dx:.8804710999221753,dy:.47409982303501746},{x:1490.5,y:547.5,dx:.9986178293325098,dy:.052558833122763673},{x:1554,y:540,dx:.9486832980505138,dy:-.31622776601683794}]},{ville1:"Kharkov",ville2:"Moskva",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1628.5,y:491,dx:.6985367247883851,dy:-.7155742058807848},{x:1661.5,y:437,dx:.2676438637860946,dy:-.9635179096299405},{x:1666,y:372,dx:-.1414213562373095,dy:-.9899494936611665},{x:1647,y:309.5,dx:-.4541874474402252,dy:-.8909061469019802}]},{ville1:"Kharkov",ville2:"Rostov",longueur:2,couleur:"VERT",isTunnel:!1,ferry:0,segments:[{x:1651,y:528,dx:1,dy:0},{x:1670.5,y:573.5,dx:.017541160386140585,dy:.9998461420100133}]},{ville1:"Kobenhavn",ville2:"Stockholm",longueur:3,couleur:"JAUNE",isTunnel:!1,ferry:0,segments:[{x:808.5,y:114,dx:.6804510993672779,dy:-.7327934916262993},{x:855,y:70.5,dx:.7483469392281404,dy:-.6633075143158518},{x:908,y:34,dx:.8804710999221753,dy:-.47409982303501746}]},{ville1:"Kobenhavn",ville2:"Stockholm",longueur:3,couleur:"BLANC",isTunnel:!1,ferry:0,segments:[{x:825,y:132,dx:.6896551724137931,dy:-.7241379310344828},{x:870,y:87.5,dx:.7503589948350772,dy:-.6610305430689966},{x:923.5,y:50.5,dx:.8837879163470618,dy:-.4678877204190327}]},{ville1:"Kyiv",ville2:"Smolensk",longueur:3,couleur:"ROUGE",isTunnel:!1,ferry:0,segments:[{x:1418.5,y:440.5,dx:.9986178293325098,dy:.052558833122763673},{x:1477.5,y:417,dx:.7157819483772108,dy:-.6983238520753277},{x:1492,y:355.5,dx:-.2890045919356118,dy:-.9573277107867141}]},{ville1:"Kyiv",ville2:"Warszawa",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1143.5,y:376.5,dx:.689213765997513,dy:.7245580616896932},{x:1196,y:413,dx:.9377487607237036,dy:.34731435582359393},{x:1258.5,y:422.5,dx:.9986178293325098,dy:-.052558833122763673},{x:1322.5,y:423.5,dx:.9986178293325098,dy:.052558833122763673}]},{ville1:"Kyiv",ville2:"Wilno",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1344,y:330.5,dx:.8400393777687709,dy:.5425254314756646},{x:1372,y:389.5,dx:0,dy:1}]},{ville1:"Lisboa",ville2:"Madrid",longueur:3,couleur:"ROSE",isTunnel:!1,ferry:0,segments:[{x:30,y:940,dx:0,dy:-1},{x:49.5,y:896,dx:.9994259471398348,dy:.033878845665757114},{x:111,y:917.5,dx:.8080075302163774,dy:.5891721574494418}]},{ville1:"Madrid",ville2:"Pamplona",longueur:3,couleur:"BLANC",isTunnel:!0,ferry:0,segments:[{x:186,y:920.5,dx:.6419366564593427,dy:-.7667576729931038},{x:229,y:874,dx:.7071067811865475,dy:-.7071067811865475},{x:278.5,y:833,dx:.8372705045624257,dy:-.546788900938727}]},{ville1:"Madrid",ville2:"Pamplona",longueur:3,couleur:"NOIR",isTunnel:!0,ferry:0,segments:[{x:171,y:905,dx:.6536198703460924,dy:-.7568230077691596},{x:212.5,y:857,dx:.6804510993672779,dy:-.7327934916262993},{x:261,y:817,dx:.8422714006615114,dy:-.5390536964233673}]},{ville1:"Marseille",ville2:"Pamplona",longueur:4,couleur:"ROUGE",isTunnel:!1,ferry:0,segments:[{x:367.5,y:823,dx:.9503971290446889,dy:.3110390604146254},{x:401,y:790.5,dx:.35305725243424235,dy:-.9356017189507422},{x:452.5,y:753.5,dx:.9998461420100133,dy:-.017541160386140585},{x:516.5,y:770.5,dx:.8979207227269799,dy:.44015721702302935}]},{ville1:"Marseille",ville2:"Paris",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:553,y:756,dx:-.5547001962252291,dy:-.8320502943378437},{x:505.5,y:713.5,dx:-.8837879163470618,dy:-.4678877204190327},{x:457,y:670.5,dx:-.5700815482062942,dy:-.821588113591424},{x:436.5,y:608.5,dx:-.054464493159869794,dy:-.9985157079309461}]},{ville1:"Marseille",ville2:"Roma",longueur:4,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:620,y:778,dx:.8041761414663255,dy:-.5943910610838058},{x:671,y:741.5,dx:.8,dy:-.6},{x:712,y:762.5,dx:.6028330891856919,dy:.7978673239222394},{x:750,y:813.5,dx:.6028330891856919,dy:.7978673239222394}]},{ville1:"Marseille",ville2:"Zurich",longueur:2,couleur:"ROSE",isTunnel:!0,ferry:0,segments:[{x:615,y:683.5,dx:-.2553911228370322,dy:.9668378221687647},{x:599,y:746.5,dx:-.2890045919356118,dy:.9573277107867141}]},{ville1:"Moskva",ville2:"Petrograd",longueur:4,couleur:"BLANC",isTunnel:!1,ferry:0,segments:[{x:1504,y:79.5,dx:.9538492507391959,dy:.30028587523270983},{x:1561,y:110,dx:.8041761414663255,dy:.5943910610838058},{x:1600,y:161,dx:.4472135954999579,dy:.8944271909999159},{x:1617,y:222,dx:.07124704998790965,dy:.9974586998307351}]},{ville1:"Moskva",ville2:"Smolensk",longueur:2,couleur:"ORANGE",isTunnel:!1,ferry:0,segments:[{x:1526,y:314,dx:.994309153919809,dy:.10653312363426524},{x:1587,y:295.5,dx:.8080075302163774,dy:-.5891721574494418}]},{ville1:"Munchen",ville2:"Venezia",longueur:2,couleur:"BLEU",isTunnel:!0,ferry:0,segments:[{x:742,y:587,dx:.18208926018230742,dy:.9832820049844601},{x:754,y:651,dx:.20952908873087345,dy:.9778024140774094}]},{ville1:"Munchen",ville2:"Wien",longueur:3,couleur:"ORANGE",isTunnel:!1,ferry:0,segments:[{x:768.5,y:566,dx:.6055218324832624,dy:.7958286941208591},{x:826,y:594.5,dx:.9986649849421085,dy:.0516550854280401},{x:887,y:574.5,dx:.7792134503124135,dy:-.6267586448165066}]},{ville1:"Munchen",ville2:"Zurich",longueur:2,couleur:"JAUNE",isTunnel:!0,ferry:0,segments:[{x:656.5,y:609.5,dx:.7407190347407712,dy:-.6718149384858157},{x:702.5,y:564,dx:.7321867381630838,dy:-.6811039424772872}]},{ville1:"Palermo",ville2:"Roma",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:864,y:1032,dx:-.5943910610838058,dy:.8041761414663255},{x:884.5,y:972,dx:-.017238817250844786,dy:.9998514005489976},{x:866,y:911,dx:.6163082616581107,dy:.7875050010075858},{x:818,y:867.5,dx:.8799053976571926,dy:.47514891473488396}]},{ville1:"Palermo",ville2:"Smyrna",longueur:6,couleur:"GRIS",isTunnel:!1,ferry:2,segments:[{x:1236.5,y:1069,dx:1,dy:0},{x:1172.5,y:1069,dx:1,dy:0},{x:1110.5,y:1069,dx:1,dy:0},{x:1048.5,y:1069,dx:1,dy:0},{x:984,y:1069,dx:1,dy:0},{x:920,y:1069,dx:1,dy:0}]},{ville1:"Pamplona",ville2:"Paris",longueur:4,couleur:"BLEU",isTunnel:!1,ferry:0,segments:[{x:321.5,y:763,dx:.5891721574494418,dy:-.8080075302163774},{x:353.5,y:706.5,dx:.34570535882735637,dy:-.9383431168171101},{x:374,y:647,dx:.24253562503633297,dy:-.9701425001453319},{x:387.5,y:584,dx:.15333732983159673,dy:-.988173903359179}]},{ville1:"Pamplona",ville2:"Paris",longueur:4,couleur:"VERT",isTunnel:!1,ferry:0,segments:[{x:343.5,y:770.5,dx:.597266145998167,dy:-.8020431103403957},{x:376,y:713,dx:.37729688731351946,dy:-.9260923597695477},{x:397,y:654,dx:.27472112789737807,dy:-.9615239476408232},{x:410.5,y:592,dx:.11982016019085814,dy:-.9927956130099675}]},{ville1:"Paris",ville2:"Zurich",longueur:3,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:468.5,y:594,dx:.5171156399255817,dy:.8559155419457903},{x:515.5,y:636.5,dx:.9052369440730288,dy:.4249071370138707},{x:578.5,y:650,dx:1,dy:0}]},{ville1:"Petrograd",ville2:"Riga",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1216.5,y:73,dx:1,dy:0},{x:1281,y:74,dx:.9993628543475496,dy:-.03569153051241249},{x:1344,y:72,dx:.9993148337667671,dy:-.037011660509880265},{x:1407,y:71.5,dx:.9985681322700888,dy:-.053494721371611896}]},{ville1:"Petrograd",ville2:"Stockholm",longueur:8,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:994,y:57,dx:.6332377902572627,dy:.773957299203321},{x:1040,y:48,dx:.8041761414663255,dy:-.5943910610838058},{x:1099.5,y:26.5,dx:.9998347517133227,dy:.01817881366751496},{x:1163,y:26.5,dx:.9998405993454448,dy:.017854296416882943},{x:1226.5,y:25.5,dx:.9998461420100133,dy:-.017541160386140585},{x:1289.5,y:26,dx:1,dy:0},{x:1352.5,y:26.5,dx:.9998347517133227,dy:-.01817881366751496},{x:1416.5,y:39,dx:.9165393783696333,dy:.39994445601584}]},{ville1:"Petrograd",ville2:"Wilno",longueur:4,couleur:"BLEU",isTunnel:!1,ferry:0,segments:[{x:1326,y:261,dx:.5943910610838058,dy:-.8041761414663255},{x:1364,y:209.5,dx:.5627909770820216,dy:-.8265992475892192},{x:1400.5,y:158,dx:.5829078754517308,dy:-.8125382506296854},{x:1437,y:107.5,dx:.5861197865287227,dy:-.8102244107897049}]},{ville1:"Riga",ville2:"Wilno",longueur:4,couleur:"VERT",isTunnel:!1,ferry:0,segments:[{x:1167,y:119,dx:-.16990691650764622,dy:.985460115744348},{x:1175,y:182,dx:.4190581774617469,dy:.9079593845004517},{x:1216,y:230.5,dx:.8559155419457903,dy:.5171156399255817},{x:1270,y:264.5,dx:.8400393777687709,dy:.5425254314756646}]},{ville1:"Roma",ville2:"Venezia",longueur:2,couleur:"NOIR",isTunnel:!1,ferry:0,segments:[{x:772.5,y:740,dx:.19274530403092788,dy:.9812488205210874},{x:784,y:803.5,dx:.17888543819998318,dy:.9838699100999074}]},{ville1:"Rostov",ville2:"Sevastopol",longueur:4,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1526,y:703,dx:.13663739713703102,dy:-.9906211292434748},{x:1534.5,y:640,dx:.15867809538375516,dy:-.9873303712766988},{x:1561,y:598,dx:.9906211292434748,dy:.13663739713703102},{x:1623.5,y:609,dx:.9849570246463139,dy:.17279947800812523}]},{ville1:"Rostov",ville2:"Sochi",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:1667.5,y:663,dx:-.053494721371611896,dy:.9985681322700888},{x:1664,y:726.5,dx:-.07000328148073091,dy:.9975467611004155}]},{ville1:"Sarajevo",ville2:"Sofia",longueur:2,couleur:"GRIS",isTunnel:!0,ferry:0,segments:[{x:1096,y:793,dx:.9079593845004517,dy:-.4190581774617469},{x:1143.5,y:792,dx:.47514891473488396,dy:.8799053976571926}]},{ville1:"Sarajevo",ville2:"Zagrab",longueur:3,couleur:"ROUGE",isTunnel:!1,ferry:0,segments:[{x:913.5,y:761.5,dx:.12189130152520146,dy:.9925434552766405},{x:946,y:815.5,dx:.8125382506296854,dy:.5829078754517308},{x:1010,y:825.5,dx:.9433123908373908,dy:-.3319062115909338}]},{ville1:"Sevastopol",ville2:"Sochi",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:1,segments:[{x:1554,y:753,dx:.9899494936611665,dy:.1414213562373095},{x:1616,y:763,dx:.9899494936611665,dy:.1414213562373095}]},{ville1:"Smolensk",ville2:"Wilno",longueur:3,couleur:"JAUNE",isTunnel:!1,ferry:0,segments:[{x:1344.5,y:274.5,dx:.5812381937190964,dy:-.8137334712067349},{x:1386,y:251,dx:.8160244811016552,dy:.5780173407803391},{x:1438,y:289,dx:.8160244811016552,dy:.5780173407803391}]},{ville1:"Venezia",ville2:"Zagrab",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:808,y:680.5,dx:.965948051503245,dy:-.2587360852240835},{x:870.5,y:691.5,dx:.8450788360522153,dy:.5346417126044628}]},{ville1:"Venezia",ville2:"Zurich",longueur:2,couleur:"VERT",isTunnel:!0,ferry:0,segments:[{x:664.5,y:659.5,dx:.8837879163470618,dy:.4678877204190327},{x:721.5,y:689,dx:.8765785507795943,dy:.48125881219271843}]},{ville1:"Warszawa",ville2:"Wien",longueur:4,couleur:"BLEU",isTunnel:!1,ferry:0,segments:[{x:966.5,y:531.5,dx:.860576682823999,dy:-.5093208939162444},{x:1016.5,y:493.5,dx:.7423931175486519,dy:-.6699645207146371},{x:1059.5,y:446,dx:.5891721574494418,dy:-.8080075302163774},{x:1094,y:392.5,dx:.5221538596385299,dy:-.8528513040762654}]},{ville1:"Warszawa",ville2:"Wilno",longueur:3,couleur:"ROUGE",isTunnel:!1,ferry:0,segments:[{x:1142.5,y:310.5,dx:.4678877204190327,dy:-.8837879163470618},{x:1194,y:272,dx:.9761870601839528,dy:-.21693045781865616},{x:1257,y:285,dx:.847998304005088,dy:.52999894000318}]},{ville1:"Wien",ville2:"Zagrab",longueur:2,couleur:"GRIS",isTunnel:!1,ferry:0,segments:[{x:912.5,y:667,dx:.08588834215301201,dy:-.9963047689749394},{x:916.5,y:604.5,dx:.054464493159869794,dy:-.9985157079309461}]}],Q=[];let X=window.location.hostname;""===X&&(X="localhost");const Y=function(n,l=e){let r;const t=new Set;function o(e){if(s(n,e)&&(n=e,r)){const e=!Q.length;for(const e of t)e[1](),Q.push(e,n);if(e){for(let e=0;e<Q.length;e+=2)Q[e][0](Q[e+1]);Q.length=0}}}return{set:o,update:function(e){o(e(n))},subscribe:function(s,i=e){const u=[s,i];return t.add(u),1===t.size&&(r=l(o)||e),s(n),()=>{t.delete(u),0===t.size&&(r(),r=null)}}}}(new WebSocket(`ws://${X}:3232`));function ee(e,n,l){const r=e.slice();return r[8]=n[l],r}function ne(e,n,l){const r=e.slice();return r[11]=n[l],r}function le(e,n,l){const r=e.slice();return r[14]=n[l],r[16]=l,r}function re(e,n,l){const r=e.slice();return r[8]=n[l],r}function te(e,n,l){const r=e.slice();return r[11]=n[l],r}function se(e,n,l){const r=e.slice();return r[14]=n[l],r[16]=l,r}function oe(e){let n,l,r;return{c(){n=f("g"),l=f("rect"),T(l,"x",-fe/2),T(l,"y",-me/2),T(l,"width",fe),T(l,"height",me),T(n,"class","segment"),T(n,"transform",r="translate("+e[14].x+", "+e[14].y+")\n          rotate("+180*Math.atan2(e[14].dy,e[14].dx)/Math.PI+")")},m(e,r){x(e,n,r),y(n,l)},p(e,l){2&l&&r!==(r="translate("+e[14].x+", "+e[14].y+")\n          rotate("+180*Math.atan2(e[14].dy,e[14].dx)/Math.PI+")")&&T(n,"transform",r)},d(e){e&&a(n)}}}function ie(e){let n,l,r,t=e[11].segments,s=[];for(let n=0;n<t.length;n+=1)s[n]=oe(se(e,t,n));function o(){return e[3](e[11])}return{c(){n=f("g");for(let e=0;e<s.length;e+=1)s[e].c();T(n,"class","route svelte-vs5ob9")},m(e,t){x(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null);l||(r=h(n,"click",o),l=!0)},p(l,r){if(e=l,2&r){let l;for(t=e[11].segments,l=0;l<t.length;l+=1){const o=se(e,t,l);s[l]?s[l].p(o,r):(s[l]=oe(o),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},d(e){e&&a(n),c(s,e),l=!1,r()}}}function ue(e){let n,l,r,t,s;function o(){return e[4](e[8])}return{c(){n=f("g"),l=f("circle"),T(l,"cx","0"),T(l,"cy","0"),T(l,"r",he),T(n,"class","ville svelte-vs5ob9"),T(n,"transform",r="translate("+e[8].x+", "+e[8].y+")")},m(e,r){x(e,n,r),y(n,l),t||(s=h(n,"click",o),t=!0)},p(l,t){e=l,1&t&&r!==(r="translate("+e[8].x+", "+e[8].y+")")&&T(n,"transform",r)},d(e){e&&a(n),t=!1,s()}}}function de(e){let n,l,r,t;return{c(){n=f("g"),l=f("image"),w(l,"xlink:href",r="images/image-wagon-"+e[11].proprietaire+".png"),T(l,"width",ve),T(l,"height",ve),T(l,"transform","translate("+.55*-ve+", "+-ve/2+")"),T(n,"transform",t="translate("+e[14].x+", "+e[14].y+")\n            rotate("+180*Math.atan2(e[14].dy,e[14].dx)/Math.PI+")")},m(e,r){x(e,n,r),y(n,l)},p(e,s){2&s&&r!==(r="images/image-wagon-"+e[11].proprietaire+".png")&&w(l,"xlink:href",r),2&s&&t!==(t="translate("+e[14].x+", "+e[14].y+")\n            rotate("+180*Math.atan2(e[14].dy,e[14].dx)/Math.PI+")")&&T(n,"transform",t)},d(e){e&&a(n)}}}function ye(e){let n,l=void 0!==e[11].proprietaire&&de(e);return{c(){l&&l.c(),n=p()},m(e,r){l&&l.m(e,r),x(e,n,r)},p(e,r){void 0!==e[11].proprietaire?l?l.p(e,r):(l=de(e),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&a(n)}}}function xe(e){let n,l=e[11].segments,r=[];for(let n=0;n<l.length;n+=1)r[n]=ye(le(e,l,n));return{c(){n=f("g");for(let e=0;e<r.length;e+=1)r[e].c();T(n,"class","no-pointer svelte-vs5ob9")},m(e,l){x(e,n,l);for(let e=0;e<r.length;e+=1)r[e].m(n,null)},p(e,t){if(2&t){let s;for(l=e[11].segments,s=0;s<l.length;s+=1){const o=le(e,l,s);r[s]?r[s].p(o,t):(r[s]=ye(o),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=l.length}},d(e){e&&a(n),c(r,e)}}}function ae(e){let n,l,r,t,s;return{c(){n=f("g"),l=f("image"),r=f("image"),w(l,"xlink:href","images/gare-shadow.png"),T(l,"width",1.05*pe),T(l,"height",1.05*pe),T(l,"transform","translate("+.55*-pe+", "+.75*-pe+")"),w(r,"xlink:href",t="images/gare-"+e[8].proprietaire+".png"),T(r,"width",pe),T(r,"height",pe),T(r,"transform","translate("+.6*-pe+", "+.7*-pe+")"),T(n,"class","no-pointer svelte-vs5ob9"),T(n,"transform",s="translate("+e[8].x+", "+e[8].y+")")},m(e,t){x(e,n,t),y(n,l),y(n,r)},p(e,l){1&l&&t!==(t="images/gare-"+e[8].proprietaire+".png")&&w(r,"xlink:href",t),1&l&&s!==(s="translate("+e[8].x+", "+e[8].y+")")&&T(n,"transform",s)},d(e){e&&a(n)}}}function ce(e){let n,l=void 0!==e[8].proprietaire&&ae(e);return{c(){l&&l.c(),n=p()},m(e,r){l&&l.m(e,r),x(e,n,r)},p(e,r){void 0!==e[8].proprietaire?l?l.p(e,r):(l=ae(e),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&a(n)}}}function ge(n){let l,r,t,s,o,i,u,d=n[1],g=[];for(let e=0;e<d.length;e+=1)g[e]=ie(te(n,d,e));let m=n[0],v=[];for(let e=0;e<m.length;e+=1)v[e]=ue(re(n,m,e));let b=n[1],S=[];for(let e=0;e<b.length;e+=1)S[e]=xe(ne(n,b,e));let $=n[0],E=[];for(let e=0;e<$.length;e+=1)E[e]=ce(ee(n,$,e));return{c(){l=f("svg");for(let e=0;e<g.length;e+=1)g[e].c();r=p();for(let e=0;e<v.length;e+=1)v[e].c();t=f("rect");for(let e=0;e<S.length;e+=1)S[e].c();s=p();for(let e=0;e<E.length;e+=1)E[e].c();o=f("image"),T(t,"id","cache"),T(t,"class","no-pointer svelte-vs5ob9"),T(t,"x","0"),T(t,"y","0"),T(t,"width","1701"),T(t,"height","1097"),T(t,"fill","#fffc"),R(t,"visibility","hidden"),w(o,"xlink:href","images/toggle-button.png"),T(o,"x","0"),T(o,"y","0"),T(o,"width","80"),T(o,"height","80"),T(l,"id","board"),T(l,"xmlns","http://www.w3.org/2000/svg"),T(l,"xmlns:xlink","http://www.w3.org/1999/xlink"),T(l,"viewBox","0 0 1701 1097"),T(l,"class","svelte-vs5ob9")},m(e,n){x(e,l,n);for(let e=0;e<g.length;e+=1)g[e].m(l,null);y(l,r);for(let e=0;e<v.length;e+=1)v[e].m(l,null);y(l,t);for(let e=0;e<S.length;e+=1)S[e].m(l,null);y(l,s);for(let e=0;e<E.length;e+=1)E[e].m(l,null);y(l,o),i||(u=h(o,"click",Te),i=!0)},p(e,[n]){if(2&n){let t;for(d=e[1],t=0;t<d.length;t+=1){const s=te(e,d,t);g[t]?g[t].p(s,n):(g[t]=ie(s),g[t].c(),g[t].m(l,r))}for(;t<g.length;t+=1)g[t].d(1);g.length=d.length}if(1&n){let r;for(m=e[0],r=0;r<m.length;r+=1){const s=re(e,m,r);v[r]?v[r].p(s,n):(v[r]=ue(s),v[r].c(),v[r].m(l,t))}for(;r<v.length;r+=1)v[r].d(1);v.length=m.length}if(2&n){let r;for(b=e[1],r=0;r<b.length;r+=1){const t=ne(e,b,r);S[r]?S[r].p(t,n):(S[r]=xe(t),S[r].c(),S[r].m(l,s))}for(;r<S.length;r+=1)S[r].d(1);S.length=b.length}if(1&n){let r;for($=e[0],r=0;r<$.length;r+=1){const t=ee(e,$,r);E[r]?E[r].p(t,n):(E[r]=ce(t),E[r].c(),E[r].m(l,o))}for(;r<E.length;r+=1)E[r].d(1);E.length=$.length}},i:e,o:e,d(e){e&&a(l),c(g,e),c(v,e),c(S,e),c(E,e),i=!1,u()}}}const fe=60,me=20,ve=70,pe=50,he=12;function Te(){const e=document.getElementById("cache");"hidden"===e.style.visibility?e.style.visibility="":e.style.visibility="hidden"}function we(e,n,l){let r;d(e,Y,(e=>l(5,r=e)));let{props:t}=n;class s{constructor(e,n,l){this.nom=e,this.x=n,this.y=l,this.proprietaire=void 0}onclick(){r.send(this.nom)}}class o{constructor(e,n,l,r,t,s,o){this.ville1=e,this.ville2=n,this.longueur=l,this.couleur=r,this.isTunnel=t,this.ferry=s,this.label=`${e} - ${n}`,this.segments=o,this.proprietaire=void 0}onclick(){r.send(this.label)}}const i=Object.values(F).map((e=>new s(e.nom,e.x,e.y))),u=H.map((e=>new o(e.ville1,e.ville2,e.longueur,e.couleur,e.isTunnel,e.ferry,e.segments)));for(let e=0;e<u.length-1;e++)u[e].label===u[e+1].label&&(u[e].label+="(1)",u[e+1].label+="(2)");var y;y=()=>{for(const e of t.routes)e.proprietaire&&(u.filter((n=>n.label===e.nom))[0].proprietaire=e.proprietaire);for(const e of t.villes)e.proprietaire&&(i.filter((n=>n.nom===e.nom))[0].proprietaire=e.proprietaire);l(1,u),l(0,i)},$().$$.before_update.push(y);return e.$$set=e=>{"props"in e&&l(2,t=e.props)},[i,u,t,e=>e.onclick(),e=>e.onclick()]}class be extends Z{constructor(e){super(),J(this,e,we,ge,s,{props:2})}}function Re(e,n,l){const r=e.slice();return r[4]=n[l],r}function Se(e,n,l){const r=e.slice();return r[4]=n[l],r}function $e(e,n,l){const r=e.slice();return r[9]=n[l],r}function Ee(e){let n,l,r,t,s,o,i,u,d,c=e[9].ville1+"",f=e[9].ville2+"",v=e[9].valeur+"";function p(){return e[2](e[9])}return{c(){n=g("div"),l=m(c),r=m(" - "),t=m(f),s=m(" ("),o=m(v),i=m(")\n                "),T(n,"class","destination")},m(e,a){x(e,n,a),y(n,l),y(n,r),y(n,t),y(n,s),y(n,o),y(n,i),u||(d=h(n,"click",p),u=!0)},p(n,r){e=n,1&r&&c!==(c=e[9].ville1+"")&&b(l,c),1&r&&f!==(f=e[9].ville2+"")&&b(t,f),1&r&&v!==(v=e[9].valeur+"")&&b(o,v)},d(e){e&&a(n),u=!1,d()}}}function ke(e){let n,l,r,t,s,o;function i(){return e[3](e[4])}return{c(){n=g("div"),l=g("div"),r=v(),T(l,"class","image-wagon svelte-vqlws6"),R(l,"background-image","url(images/carte-wagon-"+e[4]+".png"),T(n,"class",t="carte-wagon "+e[4]+" svelte-vqlws6")},m(e,t){x(e,n,t),y(n,l),y(n,r),s||(o=h(n,"click",i),s=!0)},p(r,s){e=r,1&s&&R(l,"background-image","url(images/carte-wagon-"+e[4]+".png"),1&s&&t!==(t="carte-wagon "+e[4]+" svelte-vqlws6")&&T(n,"class",t)},d(e){e&&a(n),s=!1,o()}}}function Be(e){let n,l,r,t,s,o;return{c(){n=g("div"),l=g("div"),r=v(),t=g("div"),s=v(),T(l,"class","image-wagon svelte-vqlws6"),R(l,"background-image","url(images/carte-wagon-"+e[4]+".png"),T(t,"class","overlay svelte-vqlws6"),T(n,"class",o="carte-wagon "+e[4]+" svelte-vqlws6")},m(e,o){x(e,n,o),y(n,l),y(n,r),y(n,t),y(n,s)},p(e,r){1&r&&R(l,"background-image","url(images/carte-wagon-"+e[4]+".png"),1&r&&o!==(o="carte-wagon "+e[4]+" svelte-vqlws6")&&T(n,"class",o)},d(e){e&&a(n)}}}function Ge(n){let l,r,t,s,o,i,d,f,p,h,w,R,S,$,E,k,B,G,I,A,P,N,L,W,C,O,M,z,U,_=n[0].nom+"",K=n[0].score+"",q=n[0].nbGares+"",D=n[0].nbWagons+"",j=n[0].destinations,V=[];for(let e=0;e<j.length;e+=1)V[e]=Ee($e(n,j,e));let J=n[0].cartesWagon,Z=[];for(let e=0;e<J.length;e+=1)Z[e]=ke(Se(n,J,e));let F=n[0].cartesWagonPosees,H=[];for(let e=0;e<F.length;e+=1)H[e]=Be(Re(n,F,e));return{c(){l=g("div"),r=g("div"),t=g("img"),i=v(),d=g("div"),f=g("span"),p=m(_),h=v(),w=g("div"),R=m("Score: "),S=m(K),$=v(),E=g("div"),k=m("Gares: "),B=m(q),G=v(),I=g("div"),A=m("Wagons: "),P=m(D),N=v(),L=g("div"),W=g("div");for(let e=0;e<V.length;e+=1)V[e].c();C=v(),O=g("div");for(let e=0;e<Z.length;e+=1)Z[e].c();M=v(),z=g("div");for(let e=0;e<H.length;e+=1)H[e].c();T(t,"class","avatar svelte-vqlws6"),T(t,"alt",s="avatar "+n[0].couleur),u(t.src,o="images/avatar-"+n[0].couleur+".png")||T(t,"src",o),T(f,"class","nom svelte-vqlws6"),T(w,"class","score"),T(E,"class","gares"),T(I,"class","wagons"),T(d,"class","info column svelte-vqlws6"),T(r,"class","header row svelte-vqlws6"),T(W,"class","destinations column svelte-vqlws6"),T(O,"class","cartes-wagon svelte-vqlws6"),T(z,"class","cartes-wagon svelte-vqlws6"),T(L,"class","secret svelte-vqlws6"),T(l,"class",U="joueur "+n[0].couleur+" "+(n[0].estJoueurCourant?"actif":"")+" svelte-vqlws6")},m(e,n){x(e,l,n),y(l,r),y(r,t),y(r,i),y(r,d),y(d,f),y(f,p),y(d,h),y(d,w),y(w,R),y(w,S),y(d,$),y(d,E),y(E,k),y(E,B),y(d,G),y(d,I),y(I,A),y(I,P),y(l,N),y(l,L),y(L,W);for(let e=0;e<V.length;e+=1)V[e].m(W,null);y(L,C),y(L,O);for(let e=0;e<Z.length;e+=1)Z[e].m(O,null);y(L,M),y(L,z);for(let e=0;e<H.length;e+=1)H[e].m(z,null)},p(e,[n]){if(1&n&&s!==(s="avatar "+e[0].couleur)&&T(t,"alt",s),1&n&&!u(t.src,o="images/avatar-"+e[0].couleur+".png")&&T(t,"src",o),1&n&&_!==(_=e[0].nom+"")&&b(p,_),1&n&&K!==(K=e[0].score+"")&&b(S,K),1&n&&q!==(q=e[0].nbGares+"")&&b(B,q),1&n&&D!==(D=e[0].nbWagons+"")&&b(P,D),3&n){let l;for(j=e[0].destinations,l=0;l<j.length;l+=1){const r=$e(e,j,l);V[l]?V[l].p(r,n):(V[l]=Ee(r),V[l].c(),V[l].m(W,null))}for(;l<V.length;l+=1)V[l].d(1);V.length=j.length}if(3&n){let l;for(J=e[0].cartesWagon,l=0;l<J.length;l+=1){const r=Se(e,J,l);Z[l]?Z[l].p(r,n):(Z[l]=ke(r),Z[l].c(),Z[l].m(O,null))}for(;l<Z.length;l+=1)Z[l].d(1);Z.length=J.length}if(1&n){let l;for(F=e[0].cartesWagonPosees,l=0;l<F.length;l+=1){const r=Re(e,F,l);H[l]?H[l].p(r,n):(H[l]=Be(r),H[l].c(),H[l].m(z,null))}for(;l<H.length;l+=1)H[l].d(1);H.length=F.length}1&n&&U!==(U="joueur "+e[0].couleur+" "+(e[0].estJoueurCourant?"actif":"")+" svelte-vqlws6")&&T(l,"class",U)},i:e,o:e,d(e){e&&a(l),c(V,e),c(Z,e),c(H,e)}}}function Ie(e,n,l){let r;d(e,Y,(e=>l(1,r=e)));let{props:t}=n;return e.$$set=e=>{"props"in e&&l(0,t=e.props)},[t,r,e=>r.send(e.nom),e=>r.send(e)]}class Ae extends Z{constructor(e){super(),J(this,e,Ie,Ge,s,{props:0})}}function Pe(e,n,l){const r=e.slice();return r[5]=n[l],r}function Ne(e){let n,l,r,t,s=e[5]+"";function o(){return e[3](e[5])}return{c(){n=g("button"),l=m(s),T(n,"class","btn btn-primary")},m(e,s){x(e,n,s),y(n,l),r||(t=h(n,"click",o),r=!0)},p(n,r){e=n,1&r&&s!==(s=e[5]+"")&&b(l,s)},d(e){e&&a(n),r=!1,t()}}}function Le(n){let l;return{c(){l=g("button"),l.textContent="Passer",l.disabled=!0},m(e,n){x(e,l,n)},p:e,d(e){e&&a(l)}}}function We(n){let l,r,t;return{c(){l=g("button"),l.textContent="Passer"},m(e,s){x(e,l,s),r||(t=h(l,"click",n[4]),r=!0)},p:e,d(e){e&&a(l),r=!1,t()}}}function Ce(n){let l,r,t,s,o,i,u,d,f,p,h=n[0].nomJoueurCourant+"",w=n[0].instruction+"",R=n[0].boutons,S=[];for(let e=0;e<R.length;e+=1)S[e]=Ne(Pe(n,R,e));function $(e,n){return e[0].peutPasser?We:Le}let E=$(n),k=E(n);return{c(){l=g("div"),r=g("div"),t=g("span"),s=m(h),o=m(":"),i=v(),u=m(w),d=v(),f=g("div");for(let e=0;e<S.length;e+=1)S[e].c();p=v(),k.c(),T(t,"class","nom-joueur svelte-19y2w7e"),T(r,"class","instruction"),T(f,"class","boutons"),T(l,"class","prompt")},m(e,n){x(e,l,n),y(l,r),y(r,t),y(t,s),y(t,o),y(r,i),y(r,u),y(l,d),y(l,f);for(let e=0;e<S.length;e+=1)S[e].m(f,null);y(f,p),k.m(f,null)},p(e,[n]){if(1&n&&h!==(h=e[0].nomJoueurCourant+"")&&b(s,h),1&n&&w!==(w=e[0].instruction+"")&&b(u,w),5&n){let l;for(R=e[0].boutons,l=0;l<R.length;l+=1){const r=Pe(e,R,l);S[l]?S[l].p(r,n):(S[l]=Ne(r),S[l].c(),S[l].m(f,p))}for(;l<S.length;l+=1)S[l].d(1);S.length=R.length}E===(E=$(e))&&k?k.p(e,n):(k.d(1),k=E(e),k&&(k.c(),k.m(f,null)))},i:e,o:e,d(e){e&&a(l),c(S,e),k.d()}}}function Oe(e,n,l){let r;d(e,Y,(e=>l(1,r=e)));let{props:t}=n;function s(e){r.send(e)}return e.$$set=e=>{"props"in e&&l(0,t=e.props)},[t,r,s,e=>s(e),()=>r.send("")]}class Me extends Z{constructor(e){super(),J(this,e,Oe,Ce,s,{props:0})}}function ze(e,n,l){const r=e.slice();return r[1]=n[l],r}function Ue(e){let n,l=e[1]+"";return{c(){n=g("pre"),T(n,"class","svelte-o4rtof")},m(e,r){x(e,n,r),n.innerHTML=l},p(e,r){1&r&&l!==(l=e[1]+"")&&(n.innerHTML=l)},d(e){e&&a(n)}}}function _e(n){let l,r,t=n[0],s=[];for(let e=0;e<t.length;e+=1)s[e]=Ue(ze(n,t,e));return{c(){l=g("div"),r=g("div");for(let e=0;e<s.length;e+=1)s[e].c();T(r,"id","inner-log"),T(r,"class","svelte-o4rtof"),T(l,"id","log"),T(l,"class","svelte-o4rtof")},m(e,n){x(e,l,n),y(l,r);for(let e=0;e<s.length;e+=1)s[e].m(r,null)},p(e,[n]){if(1&n){let l;for(t=e[0],l=0;l<t.length;l+=1){const o=ze(e,t,l);s[l]?s[l].p(o,n):(s[l]=Ue(o),s[l].c(),s[l].m(r,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=t.length}},i:e,o:e,d(e){e&&a(l),c(s,e)}}}function Ke(){const e=document.getElementById("inner-log");e.scrollTop=e.scrollHeight}function qe(e,n,l){let{lines:r}=n;var t;return t=Ke,$().$$.after_update.push(t),e.$$set=e=>{"lines"in e&&l(0,r=e.lines)},[r]}class De extends Z{constructor(e){super(),J(this,e,qe,_e,s,{lines:0})}}function je(e,n,l){const r=e.slice();return r[6]=n[l],r}function Ve(e,n,l){const r=e.slice();return r[6]=n[l],r}function Je(e){let n,l,r,t,s,o,i,d,c,f,p=e[6][0]+e[6].slice(1).toLowerCase()+"";function w(){return e[3](e[6])}return{c(){n=g("div"),l=g("img"),s=v(),o=g("span"),i=m(p),d=v(),T(l,"class","shadow svelte-1eir9gx"),T(l,"alt",r=e[6]),u(l.src,t="images/carte-wagon-"+e[6]+".png")||T(l,"src",t),T(n,"class","carte visible column svelte-1eir9gx")},m(e,r){x(e,n,r),y(n,l),y(n,s),y(n,o),y(o,i),y(n,d),c||(f=h(l,"click",w),c=!0)},p(n,s){e=n,1&s&&r!==(r=e[6])&&T(l,"alt",r),1&s&&!u(l.src,t="images/carte-wagon-"+e[6]+".png")&&T(l,"src",t),1&s&&p!==(p=e[6][0]+e[6].slice(1).toLowerCase()+"")&&b(i,p)},d(e){e&&a(n),c=!1,f()}}}function Ze(e){let n,l=e[0].defausseCartesWagon.slice(-15),r=[];for(let n=0;n<l.length;n+=1)r[n]=He(je(e,l,n));return{c(){n=g("div");for(let e=0;e<r.length;e+=1)r[e].c();T(n,"id","defausse-cartes-wagon"),T(n,"class","carte column svelte-1eir9gx")},m(e,l){x(e,n,l);for(let e=0;e<r.length;e+=1)r[e].m(n,null)},p(e,t){if(1&t){let s;for(l=e[0].defausseCartesWagon.slice(-15),s=0;s<l.length;s+=1){const o=je(e,l,s);r[s]?r[s].p(o,t):(r[s]=He(o),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=l.length}},d(e){e&&a(n),c(r,e)}}}function Fe(n){let l;return{c(){l=g("div"),T(l,"class","carte-stub svelte-1eir9gx")},m(e,n){x(e,l,n)},p:e,d(e){e&&a(l)}}}function He(e){let n,l,r;return{c(){n=g("img"),T(n,"class","shadow svelte-1eir9gx"),T(n,"alt",l=e[6]),u(n.src,r="images/carte-wagon-"+e[6]+".png")||T(n,"src",r)},m(e,l){x(e,n,l)},p(e,t){1&t&&l!==(l=e[6])&&T(n,"alt",l),1&t&&!u(n.src,r="images/carte-wagon-"+e[6]+".png")&&T(n,"src",r)},d(e){e&&a(n)}}}function Qe(e){let n,l,t,s,o,i,d,f,p,w,R,S,$,E,k,B,G,I,A,P,N,L,W,C,O,M,z,U,V,J,Z,F,H,Q=e[0].pileCartesWagon+"",X=e[0].defausseCartesWagon.length+"",Y=e[0].pileDestinations+"",ee=e[0].cartesWagonVisibles,ne=[];for(let n=0;n<ee.length;n+=1)ne[n]=Je(Ve(e,ee,n));function le(e,n){return 0===e[0].defausseCartesWagon.length?Fe:Ze}o=new De({props:{lines:e[1]}});let re=le(e),te=re(e);return{c(){n=g("div"),l=g("div"),t=g("div");for(let e=0;e<ne.length;e+=1)ne[e].c();s=v(),q(o.$$.fragment),i=v(),d=g("div"),f=g("img"),w=v(),R=g("span"),S=m("Cartes wagon ("),$=m(Q),E=m(")"),k=v(),B=g("div"),te.c(),G=v(),I=g("span"),A=m("Défausse ("),P=m(X),N=m(")"),L=v(),W=g("div"),C=g("img"),M=v(),z=g("span"),U=m("Destinations ("),V=m(Y),J=m(")"),T(t,"id","cartes-visibles"),T(t,"class","row svelte-1eir9gx"),T(l,"class","column"),T(f,"class","shadow svelte-1eir9gx"),T(f,"alt","wagon"),u(f.src,p="images/carte-wagon.png")||T(f,"src","images/carte-wagon.png"),T(d,"id","pile-cartes-wagon"),T(d,"class","carte column svelte-1eir9gx"),T(B,"class","carte column svelte-1eir9gx"),T(C,"class","shadow svelte-1eir9gx"),T(C,"alt","destinations"),u(C.src,O="images/eu_TicketBack.png")||T(C,"src","images/eu_TicketBack.png"),T(W,"id","pile-destinations"),T(W,"class","carte column svelte-1eir9gx"),T(n,"id","piles"),T(n,"class","row svelte-1eir9gx")},m(r,u){x(r,n,u),y(n,l),y(l,t);for(let e=0;e<ne.length;e+=1)ne[e].m(t,null);y(l,s),D(o,l,null),y(n,i),y(n,d),y(d,f),y(d,w),y(d,R),y(R,S),y(R,$),y(R,E),y(n,k),y(n,B),te.m(B,null),y(B,G),y(B,I),y(I,A),y(I,P),y(I,N),y(n,L),y(n,W),y(W,C),y(W,M),y(W,z),y(z,U),y(z,V),y(z,J),Z=!0,F||(H=[h(f,"click",e[4]),h(C,"click",e[5])],F=!0)},p(e,[n]){if(5&n){let l;for(ee=e[0].cartesWagonVisibles,l=0;l<ee.length;l+=1){const r=Ve(e,ee,l);ne[l]?ne[l].p(r,n):(ne[l]=Je(r),ne[l].c(),ne[l].m(t,null))}for(;l<ne.length;l+=1)ne[l].d(1);ne.length=ee.length}const l={};2&n&&(l.lines=e[1]),o.$set(l),(!Z||1&n)&&Q!==(Q=e[0].pileCartesWagon+"")&&b($,Q),re===(re=le(e))&&te?te.p(e,n):(te.d(1),te=re(e),te&&(te.c(),te.m(B,G))),(!Z||1&n)&&X!==(X=e[0].defausseCartesWagon.length+"")&&b(P,X),(!Z||1&n)&&Y!==(Y=e[0].pileDestinations+"")&&b(V,Y)},i(e){Z||(_(o.$$.fragment,e),Z=!0)},o(e){K(o.$$.fragment,e),Z=!1},d(e){e&&a(n),c(ne,e),j(o),te.d(),F=!1,r(H)}}}function Xe(e,n,l){let r;d(e,Y,(e=>l(2,r=e)));let{props:t}=n,{logLines:s}=n;return e.$$set=e=>{"props"in e&&l(0,t=e.props),"logLines"in e&&l(1,s=e.logLines)},[t,s,r,e=>r.send(e),()=>r.send("GRIS"),()=>r.send("destinations")]}class Ye extends Z{constructor(e){super(),J(this,e,Xe,Qe,s,{props:0,logLines:1})}}function en(e,n,l){const r=e.slice();return r[2]=n[l],r}function nn(n){let l,r,t;return{c(){l=g("p"),l.textContent="La connexion avec le serveur n'a pas pu être établie.",r=v(),t=g("p"),t.textContent="Démarrez le serveur et rechargez la page."},m(e,n){x(e,l,n),x(e,r,n),x(e,t,n)},p:e,i:e,o:e,d(e){e&&a(l),e&&a(r),e&&a(t)}}}function ln(e){let n,l,r,t,s,o,i,u,d,f,m;r=new be({props:{props:{villes:e[0].villes,routes:e[0].routes}}}),o=new Me({props:{props:e[0].prompt}}),u=new Ye({props:{props:e[0].piles,logLines:e[0].log}});let p=e[0].joueurs,h=[];for(let n=0;n<p.length;n+=1)h[n]=rn(en(e,p,n));const w=e=>K(h[e],1,1,(()=>{h[e]=null}));return{c(){n=g("main"),l=g("div"),q(r.$$.fragment),t=v(),s=g("div"),q(o.$$.fragment),i=v(),q(u.$$.fragment),d=v(),f=g("div");for(let e=0;e<h.length;e+=1)h[e].c();T(l,"id","main"),T(f,"class","joueurs svelte-urompm"),T(n,"class","svelte-urompm")},m(e,a){x(e,n,a),y(n,l),D(r,l,null),y(l,t),y(l,s),D(o,s,null),y(s,i),D(u,s,null),y(n,d),y(n,f);for(let e=0;e<h.length;e+=1)h[e].m(f,null);m=!0},p(e,n){const l={};1&n&&(l.props={villes:e[0].villes,routes:e[0].routes}),r.$set(l);const t={};1&n&&(t.props=e[0].prompt),o.$set(t);const s={};if(1&n&&(s.props=e[0].piles),1&n&&(s.logLines=e[0].log),u.$set(s),1&n){let l;for(p=e[0].joueurs,l=0;l<p.length;l+=1){const r=en(e,p,l);h[l]?(h[l].p(r,n),_(h[l],1)):(h[l]=rn(r),h[l].c(),_(h[l],1),h[l].m(f,null))}for(z(),l=p.length;l<h.length;l+=1)w(l);U()}},i(e){if(!m){_(r.$$.fragment,e),_(o.$$.fragment,e),_(u.$$.fragment,e);for(let e=0;e<p.length;e+=1)_(h[e]);m=!0}},o(e){K(r.$$.fragment,e),K(o.$$.fragment,e),K(u.$$.fragment,e),h=h.filter(Boolean);for(let e=0;e<h.length;e+=1)K(h[e]);m=!1},d(e){e&&a(n),j(r),j(o),j(u),c(h,e)}}}function rn(e){let n,l;return n=new Ae({props:{props:e[2]}}),{c(){q(n.$$.fragment)},m(e,r){D(n,e,r),l=!0},p(e,l){const r={};1&l&&(r.props=e[2]),n.$set(r)},i(e){l||(_(n.$$.fragment,e),l=!0)},o(e){K(n.$$.fragment,e),l=!1},d(e){j(n,e)}}}function tn(e){let n,l,r,t;const s=[ln,nn],o=[];function i(e,n){return e[0]?0:1}return n=i(e),l=o[n]=s[n](e),{c(){l.c(),r=p()},m(e,l){o[n].m(e,l),x(e,r,l),t=!0},p(e,[t]){let u=n;n=i(e),n===u?o[n].p(e,t):(z(),K(o[u],1,1,(()=>{o[u]=null})),U(),l=o[n],l?l.p(e,t):(l=o[n]=s[n](e),l.c()),_(l,1),l.m(r.parentNode,r))},i(e){t||(_(l),t=!0)},o(e){K(l),t=!1},d(e){o[n].d(e),e&&a(r)}}}function sn(e,n,l){let r,t;var s,o;return d(e,Y,(e=>l(1,r=e))),s=Y,r.onmessage=function(e){l(0,t=JSON.parse(e.data)),console.log(t)},o=r,s.set(o),[t]}return new class extends Z{constructor(e){super(),J(this,e,sn,tn,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
